(this["webpackJsonpdrag-n-drop"]=this["webpackJsonpdrag-n-drop"]||[]).push([[0],{11:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(4),a=r.n(c),i=r(2),s=(r(9),r(0));var o=function(e){var t=e.data,r=e.category,c=Object(n.useState)(t),a=Object(i.a)(c,2),o=a[0],u=a[1],l=Object(n.useState)(!1),d=Object(i.a)(l,2),g=d[0],p=d[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),b=f[0],j=f[1];Object(n.useEffect)((function(){u(t)}),[u,t]);var O=Object(n.useRef)(),I=Object(n.useRef)(),y=function(e,t){console.log("dragItem",O.current),console.log("targetItem",t);var r=O.current.grpI+4*O.current.key,n=t.grpI+4*t.key;I.current!==e.target&&u((function(e){var c=JSON.parse(JSON.stringify(e));return c[n].items.splice(t.itemI,0,c[r].items.splice(O.current.itemI,1)[0]),O.current=t,localStorage.setItem("List",JSON.stringify(c)),c}))},v=function e(t){p(!1),O.current=null,I.current.removeEventListener("dragend",e),I.current=null},h=function(e){return O.current.grpI===e.grpI&&O.current.itemI===e.itemI&&O.current.key===e.key?"dnd-item current":"dnd-item"},S=function(e){e.preventDefault(),""!==b&&u((function(e){var t=JSON.parse(JSON.stringify(e));return t[16].items.push(b),j(""),localStorage.setItem("List",JSON.stringify(t)),t}))};return o?Object(s.jsx)("div",{className:"drag-n-drop",children:function(e,t){var r=Math.ceil(e.length/t);return new Array(t).fill("").map((function(t,n){return e.slice(n*r,(n+1)*r)}))}(o,5).map((function(e,t){return Object(s.jsxs)("div",{className:4===t?"test-side":"test",style:4===t?{}:r[t].style,children:[4===t?"":Object(s.jsx)("h2",{className:"test-p",children:r[t].cat}),e.map((function(e,n){return Object(s.jsxs)("div",{onDragEnter:g&&!e.items.length?function(e){return y(e,{grpI:n,itemI:0,key:t})}:null,className:4===t?"dnd-group dnd-side":"dnd-group",children:[4===t?Object(s.jsx)("form",{onSubmit:S,children:Object(s.jsx)("input",{type:"text",value:b,onChange:function(e){return j(e.target.value)}})}):r[n].cat,e.items.map((function(e,r){return Object(s.jsxs)("div",{draggable:!0,onDragStart:function(e){return function(e,t){console.log("Starting to drag",t),I.current=e.target,I.current.addEventListener("dragend",v),O.current=t,setTimeout((function(){p(!0)}),0)}(e,{grpI:n,itemI:r,key:t})},onDragEnter:g?function(e){y(e,{grpI:n,itemI:r,key:t})}:null,className:g?h({grpI:n,itemI:r,key:t}):"dnd-item",children:[Object(s.jsx)("p",{children:e}),Object(s.jsx)("span",{className:"badge",onClick:function(){return function(e){var t=e.grpI+4*e.key;u((function(r){var n=JSON.parse(JSON.stringify(r));return n[t].items.splice(e.itemI,1),localStorage.setItem("List",JSON.stringify(n)),n}))}({grpI:n,itemI:r,key:t})},children:"X"})]},r)}))]},n)}))]},t)}))}):null},u=[{style:{backgroundColor:"rgb(255,179,186)",border:"2px solid #FF1930"},cat:"important/urgent"},{style:{backgroundColor:"rgb(186,255,201)",border:"2px solid #19FF4B"},cat:"important/pas urgent"},{style:{backgroundColor:"rgb(255,223,186)",border:"2px solid #FF9419"},cat:"pas important/urgent"},{style:{backgroundColor:"rgb(186,225,255)",border:"2px solid #199CFF"},cat:"pas important/pas urgent"}];var l=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),r=t[0],c=t[1],a=function(){for(var e=[],t=0;t<17;t++)e.push({items:[]});return e};return Object(n.useEffect)((function(){localStorage.getItem("List")?c(JSON.parse(localStorage.getItem("List"))):c(a)}),[c]),Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)(o,{data:r,category:u})})})};a.a.render(Object(s.jsx)(l,{}),document.getElementById("root"))},9:function(e,t,r){}},[[11,1,2]]]);
//# sourceMappingURL=main.00e74608.chunk.js.map